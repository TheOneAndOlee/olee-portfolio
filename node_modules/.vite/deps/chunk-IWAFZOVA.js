import {
  unwriteEffect
} from "./chunk-6IIWYFIR.js";
import {
  typingInterval,
  writeEffect
} from "./chunk-G77WD64E.js";
import {
  runOnEveryParentUntil
} from "./chunk-ZELIDXVV.js";

// node_modules/svelte-typewriter/package/helpers/writeAndUnwriteText.js
var writeAndUnwriteText = async ({ currentNode, text }, options) => {
  await writeEffect({ currentNode, text }, options);
  const textWithUnescapedAmpersands = text.replaceAll("&", "&amp;");
  const fullyWritten = currentNode.innerHTML === textWithUnescapedAmpersands;
  if (fullyWritten) {
    options.dispatch("done", "write");
    await typingInterval(options.wordInterval);
    await unwriteEffect(currentNode, options);
    options.dispatch("done", "unwrite");
  }
  runOnEveryParentUntil(currentNode, options.parentElement, (element) => {
    currentNode === element ? element.classList.remove("typing") : element.classList.remove("finished-typing");
  });
};

export {
  writeAndUnwriteText
};
//# sourceMappingURL=chunk-IWAFZOVA.js.map
